webpackJsonp([10],{112:function(t,e,n){"use strict";function a(t){c||n(340)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(342),o=n.n(i),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-list__import play-list__export"},[n("div",{staticClass:"play-list__import-header"},[n("div",[t._v(" Share "+t._s(t.exportTypeName)+" ")]),t._v(" "),n("span",{staticClass:"wmp-icon-close",attrs:{title:"[Esc] Close"},on:{click:function(e){t.$emit("toggleExport",!1)}}})]),t._v(" "),"webScraper"===t.currentMediaSource.type&&"Imgur"==t.currentMediaSource.id?n("div",{staticClass:"play-list__export-room"},[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("Imgur")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")])]):t._e(),t._v(" "),"matrix"===t.currentMediaSource.type&&t.currentMediaSource.id?n("div",{staticClass:"play-list__export-room"},[n("button",{staticClass:"button btn--blue play-list__export-copy-room",class:{active:t.copyURLActive},on:{click:function(e){t.copyToClip("room")}}},[t._v("\n\t\t\t\tcopy link\n\t\t\t")]),t._v(" "),n("a",{staticClass:"button btn--blue",attrs:{href:t.twitterLink({type:"room",name:t.matrixRooms[this.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"}),t._v(" "),n("div",[t._v("twitter")])]),t._v(" "),t.isMobile?n("a",{staticClass:"button btn--blue",attrs:{href:t.whatsAppLink({type:"room",name:t.matrixRooms[this.currentMediaSource.id].name}),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"}),t._v(" "),n("div",[t._v("whatsapp")])]):t._e()]):n("div",["Imgur"!=t.currentMediaSource.id?n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportToURL}},[t._v("create link")])]):t._e(),t._v(" "),t.exportURLs.length?n("div",{staticClass:"play-list__export-list-wrapper"},["Imgur"!=t.currentMediaSource.id?n("p",{staticClass:"smaller"},[t._v("\n\t\t\t\tClick and paste to share your "+t._s(t.exportTypeName)+".\n\t\t\t")]):t._e(),t._v(" "),n("p",[n("ul",{staticClass:"play-list__exports"},t._l(t.exportURLs,function(e){return n("li",[n("div",{staticClass:"play-list__full",class:{active:t.copyActive==e.url},attrs:{title:"Copy link"},on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("div",{staticClass:"play-list__name"},[n("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name||"Default")+" "+t._s(e.type&&!e.type.includes("play")?"("+e.type+")":"")+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),n("span",{staticClass:"play-list__date"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.niceDate(e.date))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"play-list__url"},[t._v(t._s(e.url))])]),t._v(" "),n("div",{on:{click:function(n){t.copyToClip(e.type,e.url,e.name||"Default")}}},[n("span",{staticClass:"wmp-icon-link"})]),t._v(" "),t.isMobile?n("div",[n("a",{attrs:{href:t.whatsAppLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-whatsapp"})])]):t._e(),t._v(" "),n("div",[n("a",{attrs:{href:t.twitterLink(e),target:"_blank",rel:"noopener"}},[n("span",{staticClass:"wmp-icon-twitter"})])]),t._v(" "),n("div",{class:{active:t.copyURLActive==e.url},attrs:{title:"Copy data URL"},on:{click:function(n){t.copyToClip("url",e.url)}}},[n("span",{staticClass:"wmp-icon-copy"})])])}))])]):t._e(),t._v(" "),n("div",{staticClass:"button-group"},[n("button",{staticClass:"button btn--blue",on:{click:t.exportFile}},[t._v("save file")])])])])},r=[];l._withStripped=!0;var s={render:l,staticRenderFns:r},p=s,c=!1,u=n(1),d=a,_=u(o.a,p,!1,d,"data-v-71fb0fee",null);_.options.__file="src/components/play-list-export.vue",_.esModule&&Object.keys(_.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files.");e.default=_.exports},340:function(t,e,n){var a=n(341);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(3)("3ef5a1fc",a,!1)},341:function(t,e,n){e=t.exports=n(2)(void 0),e.push([t.i,'\n.smaller[data-v-71fb0fee] {\n  font-size: 0.9rem;\n}\n.play-list__export-list-wrapper[data-v-71fb0fee] {\n  width: 100%;\n  overflow: hidden;\n}\n.play-list__exports[data-v-71fb0fee] {\n  list-style: none;\n  padding: 0;\n}\n.play-list__exports li[data-v-71fb0fee] {\n    height: 3.15rem;\n    display: flex;\n    flex-direction: row;\n}\n.play-list__exports li > div[data-v-71fb0fee] {\n      display: flex;\n      flex-direction: row;\n      cursor: pointer;\n}\n.play-list__exports li > div[data-v-71fb0fee]:hover {\n        background: #EFF1F7;\n}\n.play-list__exports li > div.active[data-v-71fb0fee], .play-list__exports li > div.active[data-v-71fb0fee]:hover {\n        background: #a1c616;\n        color: #fff;\n}\n.play-list__exports li [class^="wmp-icon"][data-v-71fb0fee] {\n      color: #707379;\n}\n.play-list__exports li .wmp-icon-copy[data-v-71fb0fee] {\n      font-size: .7rem;\n}\n.play-list__export .button[data-v-71fb0fee] {\n  justify-content: center;\n}\n.play-list__export a.button[data-v-71fb0fee] {\n  position: relative;\n  justify-content: center;\n  align-items: center;\n}\n.play-list__export a.button span[data-v-71fb0fee] {\n    left: 0.45rem;\n    position: absolute;\n}\n.play-list__export-copy-room.active[data-v-71fb0fee] {\n  background: #a1c616;\n  border-color: #a1c616;\n}\n.play-list__export-room[data-v-71fb0fee] {\n  padding-top: 0.9rem;\n}\n.play-list__full.play-list__full[data-v-71fb0fee] {\n  flex: 1;\n  align-items: flex-start;\n  overflow: hidden;\n  flex-direction: column;\n  justify-content: center;\n}\n.play-list__full.play-list__full div[data-v-71fb0fee], .play-list__full.play-list__full span[data-v-71fb0fee] {\n    white-space: nowrap;\n}\n.play-list__name[data-v-71fb0fee] {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n.play-list__url[data-v-71fb0fee] {\n  font-size: 0.7rem;\n  color: #2DA7EF;\n}\n.play-list__date[data-v-71fb0fee] {\n  font-size: .7rem;\n}\n',""])},342:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},i=n(0);e.default={data:function(){return{copyActive:null,copyURLActive:null}},computed:a({},(0,i.mapState)(["exportURLs","currentMediaSource","isMobile"]),(0,i.mapGetters)(["currentName","currentExportData","exportTypeName"])),methods:a({},(0,i.mapActions)(["exportToURL","exportToFile","error"]),{exportFile:function(){var t=this.currentMediaSource,e=t.id,n=t.type,a={playList:"audius-playlist",webScraper:"audius-channel"};this.exportToFile({data:this.currentExportData,fileName:(e||"Default")+"."+a[n]})},niceDate:function(t){if(!t)return t;var e=new Date(t),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+n},getLink:function(t,e,n){return"Imgur"===t?window.location.href+"?showImgur=1":"room"===t?window.location.href+"?import="+this.currentMediaSource.id+"&type="+this.exportTypeName+"&title="+encodeURIComponent(this.matrixRooms[this.currentMatrixRoom.id].name):["channel","playList",void 0].includes(t)?window.location.href+"?import="+e+"&type="+t+"&title="+encodeURIComponent(n):"url"===t?e:""},copyToClip:function(t,e,n){var a=this;window.getSelection().removeAllRanges();var i=document.createElement("div");i.innerHTML=this.getLink(t,e,n),document.body.appendChild(i);var o=document.createRange();o.selectNode(i),window.getSelection().addRange(o);try{document.execCommand("copy"),n?this.copyActive=e:this.copyURLActive=e||!0,setTimeout(function(){a.copyURLActive=null,a.copyActive=null},800)}catch(t){this.error("Could not copy to clipboard. "+t)}window.getSelection().removeAllRanges(),i.parentNode.removeChild(i)},twitterLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return"https://twitter.com/intent/tweet?text="+encodeURIComponent(e)},whatsAppLink:function(t){var e=(t.name||"Default")+" ("+t.type+") "+this.getLink(t.type,t.url,t.name);return encodeURIComponent("https://api.whatsapp.com/send?text="+encodeURIComponent(e))}})}}});